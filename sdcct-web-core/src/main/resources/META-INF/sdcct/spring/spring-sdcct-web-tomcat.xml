<?xml version="1.0" encoding="UTF-8"?>
<beans:beans
    xmlns:beans="http://www.springframework.org/schema/beans"
    xmlns:c="http://www.springframework.org/schema/c"
    xmlns:p="http://www.springframework.org/schema/p"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="
        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">
    
    <!--====================================================================================================
    = EMBEDDED SERVLET CONTAINER FACTORIES
    =====================================================================================================-->
    <!--suppress ELValidationInJSP SpringElInspection SpringPlaceholdersInspection -->
    <beans:bean id="embeddedServletContainerFactoryTomcat" class="gov.hhs.onc.sdcct.web.tomcat.impl.SdcctTomcatEmbeddedServletContainerFactory"
        p:baseDirectory="#{ app.homeDirectory }"
        p:connectionTimeout="${sdcct.tomcat.server.conn.timeout}"
        p:contextPath="${sdcct.tomcat.server.context.path}"
        p:documentRoot="${sdcct.tomcat.server.doc.root.dir}"
        p:maxConnections="${sdcct.tomcat.server.conn.max}"
        p:maxConnectionThreads="${sdcct.tomcat.server.conn.thread.max}"
        p:port="${sdcct.tomcat.server.port.http}"
        p:uriEncoding="#{ T(java.nio.charset.StandardCharsets).UTF_8 }">
        <beans:property name="contextLifecycleListeners">
            <beans:list>
                <beans:bean id="lifecycleListenerJreMemLeakPrevention" class="org.apache.catalina.core.JreMemoryLeakPreventionListener"/>
                <beans:bean id="lifecycleListenerThreadLocalLeakPrevention" class="org.apache.catalina.core.ThreadLocalLeakPreventionListener"/>
            </beans:list>
        </beans:property>
        <beans:property name="valves">
            <beans:array>
                <beans:ref bean="valveLogging"/>
            </beans:array>
        </beans:property>
    </beans:bean>
</beans:beans>